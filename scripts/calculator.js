// Generated by CoffeeScript 1.6.2
(function() {
  var calc;

  calc = angular.module('calc', []);

  calc.controller('CalcCtrl', function($scope) {
    var allowDigits, calculate, formatResult, operands, result;

    operands = [8, 333334];
    allowDigits = 11;
    $scope.display = operands[operands.length - 1];
    $scope.keys = ['mc', 'm+', 'm-', 'mr', 7, 8, 9, '/', 4, 5, 6, 'x', 1, 2, 3, '-', 0, '.', '=', '+'];
    formatResult = function(result) {
      var _decDigitsNeeded, _indexDot, _intDigits, _numLen, _resS;

      _resS = result.toString();
      _numLen = _resS.length;
      _indexDot = _resS.indexOf('.');
      _intDigits = +_resS.slice(0, _indexDot).length;
      _decDigitsNeeded = allowDigits - _intDigits - 1;
      return _resS = +result.toFixed(_decDigitsNeeded);
    };
    calculate = function(firstOperand, operator, secondOperand) {
      var _fOper, _sOper;

      _fOper = firstOperand;
      _sOper = secondOperand;
      switch (operator) {
        case 'x':
          return _fOper * _sOper;
        case '/':
          if (_sOper === 0) {
            return 'Error';
          }
          return _fOper / _sOper;
        case '-':
          return _fOper - _sOper;
        case '+':
          return _fOper + _sOper;
      }
    };
    result = formatResult(calculate(10, '/', 3));
    if (result !== 'Error') {
      operands.shift();
      operands.shift();
      operands.push(result);
      return $scope.display = operands[0];
    } else {
      return operands = [];
    }
  });

}).call(this);
